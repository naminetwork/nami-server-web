---
title: "ホッパーフィルターの設定方法"
description: "ホッパーに名前を付けてアイテムを自動仕分けする方法のガイドです"
order: 9
tags: ["国家鯖"]
---

# 🔧 ホッパーフィルターの設定方法

ホッパーに名前を付けることで、特定のアイテムのみを通過させるフィルター機能を使うことができます。
複雑なアイテム仕分けシステムを簡単に構築できます。

## 📖 目次
1. [ホッパーの名前変更方法](#1-ホッパーの名前変更方法)
2. [基本構文](#2-基本構文)
    - [パターン修飾子](#パターン修飾子)
    - [ブール演算子](#ブール演算子)
3. [使用例](#3-使用例)
    - [基本的な例](#基本的な例)
    - [複合条件の例](#複合条件の例)
    - [エンチャント・ポーションの例](#エンチャントポーションの例)
    - [高度な例](#高度な例)
4. [動作の癖と注意点](#4-動作の癖と注意点)

---

## 1. ホッパーの名前変更方法
金床を使わずに、ホッパーにフィルターを設定できます。

### 🔨 設定手順

**1. スニークしながらホッパーを左クリック**

**2. 以下の2つの方法から選択:**

#### 方法A: アイテムを持っている場合
*   ホッパーは持っているアイテムの名前をリストに追加します
*   スニークを解除するまで続けられます
*   登録されたアイテムのみが通過するようになります

#### 方法B: 何も持っていない場合
*   次にチャットで送信するメッセージがホッパーのフィルターになります
*   金床の50文字制限を超える長い文字列を書けます
*   **"null"** と入力すると名前が削除されます

### ✅ 利点
*   XPを消費しない
*   時間の節約
*   50文字以上の長いフィルターを設定可能
*   音による直感的なフィードバック

---

## 2. 基本構文

### パターン修飾子
フィルターの条件を指定する記号です。

| 記号 | 意味 | 例 |
| :--- | :--- | :--- |
| **なし** | 完全一致 | `stone` → 石のみ通過 |
| **,** | 条件を区切る（OR条件） | `stone,dirt` → 石または土が通過 |
| **\*** | 名前に含まれる | `*wood` → woodを含むアイテムすべて |
| **^** | 名前が〜で始まる | `^oak` → oakで始まるアイテム |
| **$** | 名前が〜で終わる | `$log` → logで終わるアイテム |
| **#** | タグを持つ | `#villager_plantable_seeds` → 村人が植えられる種 |
| **~** | ポーション効果を持つ | `~strength_2` → ストレングス2 |
| **+** | エンチャントを持つ | `+mending` → 修繕 |
| **=** | リネームを含む | `=awkward_potion` → リネーム含むポーション |

### ブール演算子
複数の条件を組み合わせる記号です。

| 記号 | 意味 | 使用例 |
| :--- | :--- | :--- |
| **&** | AND（すべて満たす） | `*oak&!*wood` → oakを含むがwoodを含まない |
| **\|** | OR（いずれか満たす） | `+fortune_3\|+silk_touch` → 幸運3またはシルクタッチ |
| **!** | NOT（否定） | `!stone` → 石以外 |

### 📝 重要な注意事項
*   アイテム名は**翻訳キー**（translation key）に基づいています
*   ゲーム内で **F3 + H** を押してアイテムにカーソルを合わせると表示されます
*   OR演算子 `|` は**ANDブロック内でのみ機能**します

---

## 3. 使用例

### 基本的な例

| フィルター | 説明 |
| :--- | :--- |
| `oak_log` | オークの原木のみ通過 |
| `^oak` | oakで始まるアイテム（オークの板、原木、ボタンなど）すべて通過 |
| `$log` | logで終わるアイテム（すべての原木）が通過 |
| `*wood` | woodを含むアイテム（すべての木材系）が通過 |
| `=awkward_potion` | "awkward_potion"という名前（リネーム含む）が通過 |

### 複合条件の例

| フィルター | 説明 |
| :--- | :--- |
| `*wood,stone` | woodを含むアイテム、**または**stoneという名前のアイテムが通過 |
| `#villager_plantable_seeds` | 村人が植えられる種のタグを持つアイテムが通過 |
| `#animals_spawnable_on&*a` | 動物がスポーンできるブロックで、**かつ**名前にaが含まれるもの |
| `*oak&!*wood` | oakを含むが、woodを**含まない**アイテムが通過 |

### エンチャント・ポーションの例

| フィルター | 説明 |
| :--- | :--- |
| `splash_potion&~strength_2` | ストレングス2のスプラッシュポーション |
| `enchanted_book&+mending` | 修繕のエンチャント本のみ |
| `+mending&+protection_4&+unbreaking_3` | 修繕、プロテクション4、アンブレイキング3の**すべて**を持つアイテム |

### 高度な例

#### 🔱 神ツルハシフィルター
```
netherite_pickaxe&+efficiency_5&+unbreaking_3&+mending&+fortune_3|+silk_touch
```
**説明:** ネザライトのツルハシで、効率強化5、アンブレイキング3、修繕を持ち、かつ幸運3**または**シルクタッチを持つもの

#### 🌳 オーク製品のみ（木材除く）
```
*oak&!*wood
```
**説明:** 名前にoakを含むが、woodを含まないアイテム（ボタン、フェンス、ドアなど）

#### 🪴 すべての種
```
#villager_plantable_seeds
```
**説明:** 村人が植えられる種のタグ（小麦、ビートルート、ニンジン、ジャガイモなど）

---

## 4. 動作の癖と注意点

### ⚠️ ホッパーの詰まり防止
**最重要:** ホッパーの最初のスロットにアイテムが詰まらないように注意してください。

| 推奨対策 |
| :--- |
| ✅ フィルターを通過できないアイテムを排出するための、**標準的なホッパー（フィルターなし）**を常に用意する |
| ✅ アイテム仕分けシステムの最後に「ゴミ箱」用のチェスト＆ホッパーを設置する |
| ❌ すべてのホッパーにフィルターを設定してしまうと、想定外のアイテムで詰まります |

### 🔄 より適切なホッパー検索
アイテムがホッパーから別のホッパーに移動しようとするとき、移動先のホッパーに名前（フィルター）がない場合、システムは以下をチェックします:

1.  元のホッパーに接続されている他のホッパーがあるか
2.  その他のホッパーにフィルターがあるか
3.  アイテムがそのフィルターを通過できるか

アイテムがそのフィルターを通過できる場合、元の移動はキャンセルされ、フィルター付きのホッパーがアイテムを収集します。

**効果:** アイテムスタックが、単に移動用のホッパーによって分割されるのを防ぎます。

### 📐 OR演算子の制限
OR演算子 `|` は**ANDブロック内でのみ機能**します。

| 動作 | 例 |
| :--- | :--- |
| ❌ 動作しない | `+unbreaking_3&+fortune_3\|+efficiency_5&+silk_touch` |
| ✅ 動作する | `+unbreaking_3&+fortune_3,+efficiency_5&+silk_touch` |


---

### 💡 ヒント
*   **シンプルなフィルターから始める:** まずは `stone` や `*wood` などの簡単なものから試しましょう。
*   **F3 + H でアイテム名を確認:** 正確なアイテム名（翻訳キー）を確認してからフィルターを設定しましょう。
*   **段階的にテストする:** 複雑なフィルターは一度に設定せず、一つずつ動作確認しながら構築しましょう。
*   **必ず出口を作る:** フィルターを通過できないアイテムの逃げ道（フィルターなしホッパー）を必ず用意しましょう。
